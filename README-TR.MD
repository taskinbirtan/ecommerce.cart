# Laravel E-Commerce Cart Package

Bu paket, Laravel ekosisteminde **sepet (cart)** yÃ¶netimini saÄŸlamlaÅŸtÄ±rmak iÃ§in tasarlanmÄ±ÅŸ, modÃ¼ler ve geniÅŸletilebilir bir kÃ¼tÃ¼phanedir. AÅŸaÄŸÄ±daki baÅŸlÄ±klar altÄ±nda sÄ±nÄ±flandÄ±rÄ±lmÄ±ÅŸtÄ±r:

* **Core Cart**: Sepete ekleme, silme, miktar gÃ¼ncelleme ve temizleme fonksiyonlarÄ±.
* **Persistence Layer**: JSON Ã¶zellikli `cart_items` migrasyonu ve `CartItem` modeli ile kalÄ±cÄ± veri saklama.
* **Interface & Contracts**: `CartInterface`, `ProductResolverInterface` ve `TaxCalculatorInterface` ile soyutlama.
* **Events System**: `ItemAdded`, `ItemUpdated`, `ItemRemoved`, `CartCleared` eventleri.
* **Calculators**: `DefaultCartCalculator` ve `DefaultTaxCalculator` ile subtotal, vergi ve toplam hesaplama.
* **Configurable Resolver**: `config/cart.php` Ã¼zerinden Ã¼rÃ¼n modeli ve vergi oranÄ± belirleme.
* **Actions Framework**: E-posta gÃ¶nderimi gibi Ã¶rnek `MailAction` ile geniÅŸletilebilir action yapÄ±sÄ±.
* **Facade & Helpers**: `Cart` facade ve yardÄ±mcÄ± fonksiyonlar.

## ğŸ“¦ Ã–zellikler

* **Sepet YÃ¶netimi**

    * Ã–ÄŸren ekleme/Ã§Ä±karma/gÃ¼ncelleme (`addItem`, `removeItem`, `updateQuantity`, `clear`)
    * Sepet Ã¶gelerini listeleme (`items`) ve toplam hesaplama (`total`)
* **VeritabanÄ± DesteÄŸi**

    * `cart_items` tablosu: `cart_id` (UUID), `item_id`, `quantity`, `unit_price`, `options` (JSON), timestamps
* **Event Dispatch**

    * `ItemAdded`, `ItemUpdated`, `ItemRemoved`, `CartCleared`
* **Actions**

    * `MailAction` (Ã–rnek): GÃ¶nderici, alÄ±cÄ±, konu, iÃ§erik parametreleri ile e-posta gÃ¶nderme
* **KonfigÃ¼rasyon**

    * `config/cart.php` Ã¼zerinden model ve vergi oranÄ± (`tax_rate`) belirleme
* **HesaplayÄ±cÄ±lar**

    * `DefaultCartCalculator`: Alt toplam, vergi, genel toplam
    * `DefaultTaxCalculator`: YÃ¼zde bazlÄ± vergi hesaplama
* **Facade**: `Cart` facade araÃ§ saÄŸlar

## âš™ï¸ Kurulum

1. Composer ile paketi ekleyin:

   ```bash
   composer require taskinbirtan/ecommerce.cart
   ```

2. Service provider ve facade (otomatik keÅŸif yoksa) `config/app.php` iÃ§inde kayÄ±t edin:

   ```php
   Taskinbirtan\EcommerceCart\CartServiceProvider::class,

   'Cart' => Taskinbirtan\EcommerceCart\Facades\Cart::class,
   ```

3. KonfigÃ¼rasyon dosyasÄ±nÄ± yayÄ±nlayÄ±n:

   ```bash
   php artisan vendor:publish --provider="Taskinbirtan\EcommerceCart\CartServiceProvider" --tag=config
   ```

4. Migrationâ€™larÄ± Ã§alÄ±ÅŸtÄ±rÄ±n:

   ```bash
   php artisan migrate
   ```

## âš™ï¸ YapÄ±landÄ±rma

`config/cart.php`:

```php
return [
    'product_model' => App\\Models\\Product::class,
    'tax_rate'      => 18, // yÃ¼zde
];
```

## ğŸ› ï¸ KullanÄ±m

### Sepete Ã–ÄŸe Ekleme

```php
use Cart;

Cart::addItem($productId, $quantity = 1, ['color' => 'red']);
```

### Ã–ÄŸe Silme

```php
Cart::removeItem($productId);
```

### Miktar GÃ¼ncelleme

```php
Cart::updateQuantity($productId, $newQuantity);
```

### Sepeti Temizleme

```php
Cart::clear();
```

### Ã–geleri Listeleme ve Toplam Hesaplama

```php
$items = Cart::items();
$total = Cart::total();
```

## ğŸ”” Eventler

AÅŸaÄŸÄ±daki eventleri dinleyerek sepetteki deÄŸiÅŸikliklere tepki verebilirsiniz:

* `Taskinbirtan\EcommerceCart\Events\ItemAdded`
* `Taskinbirtan\EcommerceCart\Events\ItemUpdated`
* `Taskinbirtan\EcommerceCart\Events\ItemRemoved`
* `Taskinbirtan\EcommerceCart\Events\CartCleared`

Ã–rnek listener:

```php
public function handle(ItemAdded $event)
{
    // $event->item
}
```

## ğŸ“‹ Test

Paket, Pest & PHPUnit ile test edilebilir:

```bash
vendor/bin/pest
```

## ğŸ“ YapÄ±lacaklar

Bu paketin ileriki sÃ¼rÃ¼mlerinde **Cart** dÄ±ÅŸÄ±ndaki e-ticaret bileÅŸenlerini de kapsayacak ÅŸekilde aÅŸaÄŸÄ±daki modÃ¼llerin eklenmesi hedeflenmektedir:

* **ÃœrÃ¼n KataloÄŸu**: CRUD iÅŸlemleri, detay sayfasÄ±, varyasyon desteÄŸi (renk, beden vb.)
* **Kategori YÃ¶netimi**: Ã‡ok katmanlÄ± kategori/alt kategori hiyerarÅŸisi ve kategori bazlÄ± filtreleme
* **Envanter & Stok Takibi**: Depo bazlÄ± stok yÃ¶netimi, kritik stok uyarÄ±larÄ±
* **SipariÅŸ YÃ¶netimi**: SipariÅŸ oluÅŸturma, durum gÃ¼ncellemeleri, mÃ¼ÅŸteri bildirimleri
* **Ã–deme EntegrasyonlarÄ±**: Stripe, PayPal, yerel bankalar ve taksit seÃ§enekleri
* **Kargo & Lojistik**: Kargo firmalarÄ± API entegrasyonu, gÃ¶nderi takip
* **Kupon & Ä°ndirim**: YÃ¼zde ve tutar bazlÄ± promosyon kodlarÄ±, kullanÄ±m kurallarÄ±
* **MÃ¼ÅŸteri HesaplarÄ±**: KayÄ±t/giriÅŸ, profil, adres defteri, sipariÅŸ geÃ§miÅŸi
* **FaturalandÄ±rma & Ä°ade**: PDF fatura oluÅŸturma, iade talepleri yÃ¶netimi
* **Ã‡oklu Dil & Para Birimi**: YerelleÅŸtirme altyapÄ±sÄ±, dÃ¶viz kuru gÃ¼ncellemeleri
* **Raporlama & Analitik**: SatÄ±ÅŸ, mÃ¼ÅŸteri ve stok raporlarÄ±, grafiksel gÃ¶sterimler
* **Arama & Filtreleme AltyapÄ±sÄ±**: ElasticSearch/Algolia entegrasyonu, geliÅŸmiÅŸ filtreler
* **UI/UX BileÅŸenleri**: Responsive tema ve demo bileÅŸenler (Tailwind, jQuery)
* **GÃ¼venlik & Performans**: Rate limiting, cache (Redis), Ã¶lÃ§eklenebilir mimari Ã¶nerileri

## ğŸ¤ KatkÄ±

* Forkâ€™layÄ±n
* Yeni bir branch aÃ§Ä±n (`git checkout -b feature/fooBar`)
* DeÄŸiÅŸikliklerinizi commit edin (`git commit -am 'Add some fooBar'`)
* Push edin (`git push origin feature/fooBar`)
* Pull request oluÅŸturun

## ğŸ“ Lisans

MIT Â© taskinbirtan

## â˜• Buy Me a Coffee

EÄŸer bu paketi beÄŸendiysen ve geliÅŸtirmemi desteklemek istersen, bana bir kahve Ä±smarlayabilirsin! â˜•

[Buy Me a Coffee](https://www.buymeacoffee.com/taskinbirtan)


